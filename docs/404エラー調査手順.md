# 404エラー調査手順

## 🔍 エラーの特定方法

### ステップ1: ページをリロードしてNetworkタブで確認

1. **ブラウザの開発者ツールを開く**（F12キー）
2. **Networkタブを選択**
3. **ページをリロード**（Ctrl+R または Cmd+R、またはReloadボタン）
4. **404エラーになっているリクエストを確認**

### ステップ2: 404エラーのリクエストを特定

Networkタブで以下の情報を確認してください：

#### フィルターで404エラーを表示
- Networkタブの上部にある「Filter」ボックスに「status-code:404」と入力
- または、Statusカラムで404エラーを探す

#### 確認すべき項目
1. **リクエストのURL**: どのURLが404になっているか
   - `/api/auth/login` → APIエンドポイントの問題
   - `/api/auth/me` → APIエンドポイントの問題
   - `/login` や `/cases` → SPAルーティングの問題
   - `/vite.svg` や `/src/main.tsx` → 静的リソースの問題

2. **リクエストのタイプ**
   - `xhr` または `fetch` → APIリクエスト
   - `document` → HTMLページ
   - `script` → JavaScriptファイル
   - `stylesheet` → CSSファイル

3. **レスポンスヘッダー**
   - 404エラーのリクエストをクリック
   - 「Headers」タブでレスポンスヘッダーを確認

---

## 🔧 よくある原因と対処法

### 原因1: APIエンドポイントの404エラー

**症状**: `/api/auth/login` や `/api/auth/me` が404になる

**確認方法**:
1. Networkタブで該当リクエストをクリック
2. 「Headers」タブでリクエストURLを確認
3. バックエンドURLが正しいか確認（`https://trade-dx-v2.onrender.com/api/auth/login`）

**対処法**:
- フロントエンドの環境変数 `VITE_API_BASE_URL` が正しく設定されているか確認
- バックエンドが起動しているか確認（`https://trade-dx-v2.onrender.com/health`）

### 原因2: SPAルーティングの404エラー

**症状**: `/login` や `/cases` などのページが404になる

**確認方法**:
1. ブラウザのアドレスバーで直接 `/login` にアクセス
2. 404エラーが表示されるか確認

**対処法**:
- `frontend/public/_redirects` ファイルが存在し、正しくデプロイされているか確認
- Render.comのStatic Site設定でリダイレクトルールを確認

### 原因3: 静的リソースの404エラー

**症状**: JavaScriptファイルやCSSファイルが404になる

**確認方法**:
1. Networkタブで `*.js` や `*.css` ファイルが404になっているか確認
2. ファイルパスが正しいか確認

**対処法**:
- フロントエンドのビルドが正常に完了しているか確認
- Render.comのデプロイログでエラーがないか確認

---

## 📝 調査結果の報告方法

404エラーが発生しているリクエストの情報を以下の形式で報告してください：

1. **リクエストURL**:
   - 例: `https://trade-dx-frontend.onrender.com/login`

2. **リクエストタイプ**:
   - 例: `document` または `xhr`

3. **ステータスコード**:
   - 例: `404`

4. **レスポンスヘッダー**（該当する場合）:
   - 例: `Content-Type: text/html`

5. **エラーメッセージ**:
   - コンソールに表示されるエラーメッセージ

---

## 🚀 緊急時の対処法

### 一時的な回避策

もしログインページが404になる場合：

1. **直接URLにアクセス**:
   - `https://trade-dx-frontend.onrender.com/` にアクセス
   - そこからログインボタンをクリック

2. **ブラウザのキャッシュをクリア**:
   - Ctrl+Shift+Delete（Windows/Linux）
   - Cmd+Shift+Delete（Mac）
   - キャッシュされたファイルと画像を削除

3. **シークレットモードで試す**:
   - Ctrl+Shift+N（Chrome/Edge）
   - Ctrl+Shift+P（Firefox）
   - シークレットウィンドウでログインを試す

---

**最終更新**: 2025-12-01

