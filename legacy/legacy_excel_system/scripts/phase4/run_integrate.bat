@echo off
REM ======================================================================
REM 統合処理実行スクリプト（Windows用）
REM Phase 4: 項目単位の競合解決とリトライ機構
REM
REM 【使用方法】
REM   run_integrate.bat
REM
REM 【機能】
REM   - 各ユーザーファイルからマスターファイルへデータを統合
REM   - 項目単位の競合解決（V2.1新機能）
REM   - ファイルロック検知とリトライ
REM   - 競合ログの自動出力
REM
REM 【作成日】2025-11-20
REM ======================================================================

echo ======================================================================
echo 統合処理スクリプト（V2.1 - 改良版）
echo Phase 4: 項目単位の競合解決とリトライ機構
echo ======================================================================
echo.

REM スクリプトのディレクトリに移動
cd /d %~dp0

REM Python実行
python integrate_data.py

REM 終了コードをチェック
if %ERRORLEVEL% EQU 0 (
    echo.
    echo ======================================================================
    echo ✓ 統合処理が正常に完了しました
    echo ======================================================================
    pause
    exit /b 0
) else (
    echo.
    echo ======================================================================
    echo ✗ 統合処理が失敗しました
    echo   ログファイルを確認してください: ../../logs/
    echo ======================================================================
    pause
    exit /b 1
)


